<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta http-equiv='X-UA-Compatible' content='IE=edge'>
        <title>Tic-Tac-Toe</title>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
		<style>
			/* Reset Button */
			#resetBtn {
			color: rgba(0, 0, 0);
			text-decoration: none;
			font-size: 25px;
			border: none;
			background: none;
			font-weight: 600;
			font-family: 'Poppins', sans-serif;
			}
	
			#resetBtn::before {
			margin-left: auto;
			}
	
			#resetBtn::after, button::before {
			content: '';
			width: 5%;
			height: 4px;
			background: #ff1100;
			display: block;
			transition: 0.3s;
			}
	
			#resetBtn:hover::after,  #resetBtn:hover::before {
			width: 100%;
			}
			
	
			/* Board */
			.cell{
				width: 150px;
				height: 150px;
				border: 2px solid;
				box-shadow: 0 0 0 2px;
				line-height: 75px;
				font-size: 100px;
				cursor: pointer;
				display: flex; 
				justify-content: center; 
				align-items: center; 
			}
			.cell:hover{
	
				background-color: rgba(0, 0, 0, 0.300);
			}
			#boardGame{
				font-family: "Permanent Marker" , cursive;
				text-align: center;
			}
			#board{
				display: grid;
				grid-template-columns: repeat(3 , auto);
				margin: auto;
				width: fit-content ;
			}
		</style>
	</head>
	<body>
		<div id = "boardGame">
			<H1>Tic-Tac-Toe</H1>
				<div id = "board">
					<div cellIndex = "0" class="cell"></div>
					<div cellIndex = "1" class="cell"></div>
					<div cellIndex = "2" class="cell"></div>
					<div cellIndex = "3" class="cell"></div>
					<div cellIndex = "4" class="cell"></div>
					<div cellIndex = "5" class="cell"></div>
					<div cellIndex = "6" class="cell"></div>
					<div cellIndex = "7" class="cell"></div>
					<div cellIndex = "8" class="cell"></div>
				</div>
			<h2 id = "statusText"></h2>
			<button id = "resetBtn"> Reset </button>
		</div>

		<script>
		document.addEventListener("DOMContentLoaded", () => {
  const startingBoard = [null, null, null, null, null, null, null, null, null];
  let sign = "X";
  const message = document.getElementById("statusText");

  const boardContainer = document.getElementById("board");
  renderBoard([...startingBoard]); // Create a deep copy of the starting board

  function renderBoard(board) {
    message.textContent = getGameStatus(board);

    boardContainer.innerHTML = "";
    board.forEach((square, index) => {
      const squareElement = createSquare(index, square);
      squareElement.addEventListener("click", () => handleSquareClick(index));
      boardContainer.appendChild(squareElement);
    });
  }

  function createSquare(index, value) {
    const squareElement = document.createElement("div");
    squareElement.classList.add("cell");
    squareElement.textContent = value;
    squareElement.dataset.cellIndex = index;
    return squareElement;
  }

  function handleSquareClick(index) {
    startingBoard[index] = sign; // Update the startingBoard
    renderBoard([...startingBoard]); // Create a deep copy of the updated board
    sign = sign === "X" ? "O" : "X";
  }

  function getGameStatus(board) {
    const winner = isWon(board);
    if (winner) {
      return "Winner: " + winner;
    } else if (board.every((square) => square !== null)) {
      return "DRAW";
    } else {
      return "Next player: " + sign;
    }
  }

  function isWon(board) {
    const winConditions = [
      [0, 1, 2],
      [3, 4, 5],
      [6, 7, 8],
      [0, 4, 8],
      [2, 4, 6],
      [0, 3, 6],
      [1, 4, 7],
      [2, 5, 8],
    ];

    for (const combination of winConditions) {
      const [a, b, c] = combination;
      const posA = board[a];
      const posB = board[b];
      const posC = board[c];

      if (areMatching(posA, posB, posC)) {
        return posA;
      }
    }
    return null;
  }

  function areMatching(a, b, c) {
    return a === b && b === c;
  }

  const resetButton = document.getElementById("resetBtn");
  resetButton.addEventListener("click", reset);

  function reset() {
    startingBoard.fill(null);
    sign = "X";
    renderBoard([...startingBoard]); // Create a deep copy of the starting board
  }
});


		</script>
	</body>
</html>