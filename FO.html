<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Tic-Tac-Toe</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <style>
        /* Input Feild*/

        .form__group {
        position: relative;
        padding: 20px 0 0;
        width: 100%;
        max-width: 180px;
        }

        .form__field {
        font-family: inherit;
        width: 100%;
        border: none;
        border-bottom: 2px solid #9b9b9b;
        outline: 0;
        font-size: 17px;
        color: #090909;
        padding: 7px 0;
        background: transparent;
        transition: border-color 0.2s;
        }

        .form__field::placeholder {
        color: transparent;
        }

        .form__field:placeholder-shown ~ .form__label {
        font-size: 17px;
        cursor: text;
        top: 20px;
        }

        .form__label {
        position: absolute;
        top: 0;
        display: block;
        transition: 0.2s;
        font-size: 17px;
        color: #9b9b9b;
        pointer-events: none;
        }

        .form__field:focus {
        padding-bottom: 6px;
        font-weight: 700;
        border-width: 3px;
        border-image: linear-gradient(to right, #116399, #38caef);
        border-image-slice: 1;
        }

        .form__field:focus ~ .form__label {
        position: absolute;
        top: 0;
        display: block;
        transition: 0.2s;
        font-size: 17px;
        color: #38caef;
        font-weight: 700;
        }

        /* reset input */
        .form__field:required, .form__field:invalid {
        box-shadow: none;
        }

        /* Reset Button */
        #resetBtn {
        color: rgb(0, 0, 0);
        text-decoration: none;
        font-size: 25px;
        border: none;
        background: none;
        font-weight: 600;
        font-family: 'Poppins', sans-serif;
        }

        #resetBtn::before {
        margin-left: auto;
        }

        #resetBtn::after, button::before {
        content: '';
        width: 5%;
        height: 4px;
        background: #ff1100;
        display: block;
        transition: 0.3s;
        }

        #resetBtn:hover::after,  #resetBtn:hover::before {
        width: 100%;
        }
        

        /* Board */
        .cell{
            width: 150px;
            height: 150px;
            border: 2px solid;
            box-shadow: 0 0 0 2px;
            line-height: 75px;
            font-size: 100px;
            cursor: pointer;
            display: flex; 
            justify-content: center; 
            align-items: center; 
        }
        .cell:hover{

            background-color: #d7cdb6;
        }
        #boardGame{
            font-family: "Permanent Marker" , cursive;
            text-align: center;
        }
        #board{
            display: grid;
            grid-template-columns: repeat(3 , auto);
            margin: auto;
            width: fit-content ;
        }


        

        .popup {
                background: linear-gradient (135deg, #8052ec , #d161ff);
                height: 100%; 
                width: 100%;
                position: absolute;
                display: flex;
                z-index: 2;
                align-items: center;
                justify-content: center;
                flex-direction: column;
                gap: 1em;
                font-size: 12vmin;            
        }

        #new-game{
            font-size: 0.6em;
            padding: 0.5em 1em;
            background-color: #0a0027;
            color: #ffffff;
            border-radius: 0.2em;
            border: none;
        }

        #message{
            color: #ffffff;
            text-align: center;
            font-size: 1em;
        }

        .popup.hide{
            display: none; 
        }
    </style>
</head>

<body>
    <!-- <div class="form__group field">
        <input type="input" class="form__field" placeholder="Name" required="" id ="PlayerName">
        <label for="name" class="form__label">Player 1</label>
    </div>
    <div class="form__group field">
        <input type="input" class="form__field" placeholder="Name Player 2" required="" id="PlayerName2">
        <label for="name" class="form__label">Player 2</label>
    </div> -->
        
    <div id = "boardGame">
        <H1>Tic-Tac-Toe</H1>
        <div class="line">
            <div id = "board">
                <div cellIndex = "0" class="cell"></div>
                <div cellIndex = "1" class="cell"></div>
                <div cellIndex = "2" class="cell"></div>
                <div cellIndex = "3" class="cell"></div>
                <div cellIndex = "4" class="cell"></div>
                <div cellIndex = "5" class="cell"></div>
                <div cellIndex = "6" class="cell"></div>
                <div cellIndex = "7" class="cell"></div>
                <div cellIndex = "8" class="cell"></div>
            </div>
        <h2 id = "statusText"></h2>
        <button id = "resetBtn"> Reset </button>
        </div>

    <div class="popup hide">
        <p id="message"› Sample Message></p>
        <button id="new-game"›New Game></button>
    </div>
    <script>
    
    // Helper function to create a new game state
function createGameState() {
  return {
    options: ["", "", "", "", "", "", "", "", ""],
    currentPlayer: "X",
    running: true,
  };
}

// Helper function to check if a player has won
function checkWin(options, winConditions, currentPlayer) {
  for (const condition of winConditions) {
    const [a, b, c] = condition;
    if (
      options[a] === currentPlayer &&
      options[b] === currentPlayer &&
      options[c] === currentPlayer
    ) {
      return true;
    }
  }
  return false;
}

// Helper function to check if it's a draw
function checkDraw(options) {
  return !options.includes("");
}

// Helper function to update the game state
function updateGameState(state, cellIndex) {
  if (state.options[cellIndex] === "" && state.running) {
    const updatedOptions = [...state.options];
    updatedOptions[cellIndex] = state.currentPlayer;
    return {
      ...state,
      options: updatedOptions,
    };
  }
  return state;
}

// Helper function to change the current player
function changePlayer(state) {
  return {
    ...state,
    currentPlayer: state.currentPlayer === "X" ? "O" : "X",
  };
}

// Helper function to handle a cell click event
function handleCellClick(state, cellIndex) {
  return checkWin(state.options, state.winConditions, state.currentPlayer)
    ? state
    : checkDraw(state.options)
    ? { ...state, running: false }
    : changePlayer(updateGameState(state, cellIndex));
}

// Initialize the game
function initializeGame() {
  const gameState = createGameState();
  const cells = document.querySelectorAll(".cell");
  const statusText = document.querySelector("#statusText");
  const restartBtn = document.querySelector("#resetBtn");

  cells.forEach((cell, index) =>
    cell.addEventListener("click", () => {
      gameStateHandler(handleCellClick(gameState, index));
    })
  );

  restartBtn.addEventListener("click", () => {
    gameStateHandler(createGameState());
  });

  function gameStateHandler(newState) {
    const { options, currentPlayer, running } = newState;

    cells.forEach((cell, index) => {
      cell.textContent = options[index];
    });

    statusText.textContent = running
      ? `${currentPlayer}'s turn`
      : checkWin(options, gameState.winConditions, currentPlayer)
      ? `${currentPlayer} Wins !`
      : "Draw !";
  }

  gameStateHandler(gameState);
}

initializeGame();


    </script>
</body>
</html>